{"version":3,"sources":["webpack:///./src/views/common/login.vue?d14b","webpack:///src/views/common/login.vue","webpack:///./src/views/common/login.vue?dce5","webpack:///./src/views/common/login.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","_v","ref","attrs","loginForm","loginRule","model","value","callback","$$v","$set","expression","btnLoading","on","$event","handleSubmit","$router","push","name","staticRenderFns","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACN,EAAIO,GAAG,GAAGH,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,KAAK,CAACE,YAAY,gBAAgB,CAACN,EAAIQ,GAAG,UAAUJ,EAAG,UAAU,CAACK,IAAI,YAAYC,MAAM,CAAC,MAAQV,EAAIW,UAAU,cAAc,IAAI,MAAQX,EAAIY,YAAY,CAACR,EAAG,eAAe,CAACM,MAAM,CAAC,KAAO,WAAW,CAACN,EAAG,WAAW,CAACM,MAAM,CAAC,YAAc,MAAM,UAAY,MAAMG,MAAM,CAACC,MAAOd,EAAIW,UAAgB,OAAEI,SAAS,SAAUC,GAAMhB,EAAIiB,KAAKjB,EAAIW,UAAW,SAAUK,IAAME,WAAW,uBAAuB,GAAGd,EAAG,eAAe,CAACM,MAAM,CAAC,KAAO,YAAY,CAACN,EAAG,WAAW,CAACM,MAAM,CAAC,YAAc,KAAK,KAAO,WAAW,UAAY,MAAMG,MAAM,CAACC,MAAOd,EAAIW,UAAiB,QAAEI,SAAS,SAAUC,GAAMhB,EAAIiB,KAAKjB,EAAIW,UAAW,UAAWK,IAAME,WAAW,wBAAwB,GAAGd,EAAG,eAAe,CAACA,EAAG,YAAY,CAACE,YAAY,eAAeI,MAAM,CAAC,QAAUV,EAAImB,WAAW,KAAO,WAAWC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOrB,EAAIsB,aAAa,gBAAgB,CAACtB,EAAIQ,GAAG,SAAS,GAAGJ,EAAG,IAAI,CAACJ,EAAIQ,GAAG,WAAWJ,EAAG,IAAI,CAACgB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOrB,EAAIuB,QAAQC,KAAK,CAACC,KAAM,gBAAgB,CAACzB,EAAIQ,GAAG,aAAa,IAAI,MAC3pCkB,EAAkB,CAAC,WAAa,IAAI1B,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,KAAK,CAACJ,EAAIQ,GAAG,UAAUJ,EAAG,KAAK,CAACE,YAAY,SAAS,CAACN,EAAIQ,GAAG,uC,oCC0BhN,GACE,KADF,WAEI,MAAJ,CACM,YAAN,EACM,UAAN,CACQ,OAAR,cACQ,QAAR,aAEM,UAAN,CACQ,OAAR,CACA,CAAU,UAAV,EAAU,QAAV,SAAU,QAAV,QACA,CAAU,QAAV,YAAU,QAAV,UAAU,QAAV,SAEQ,QAAR,CACA,CAAU,UAAV,EAAU,QAAV,QAAU,QAAV,YAKE,QAAF,CACI,aADJ,SACA,GAAM,IAAN,OACM,KAAN,+BACA,IACU,EAAV,cACU,EAAV,kDACY,EAAZ,gCACY,EAAZ,yBACA,cACc,EAAd,cAAgB,KAAhB,SAEc,EAAd,cAAgB,KAAhB,gBAEA,qBACA,0CC5Dkc,I,YCO9bmB,EAAY,eACd,EACA5B,EACA2B,GACA,EACA,KACA,KACA,MAIa,aAAAC,E","file":"public/js/chunk-2d0b6e8a.69b127dc.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"suyan__login\"},[_vm._m(0),_c('div',{staticClass:\"login__main\"},[_c('h3',{staticClass:\"login__title\"},[_vm._v(\"商户登录\")]),_c('el-form',{ref:\"loginForm\",attrs:{\"model\":_vm.loginForm,\"label-width\":\"0\",\"rules\":_vm.loginRule}},[_c('el-form-item',{attrs:{\"prop\":\"mobile\"}},[_c('el-input',{attrs:{\"placeholder\":\"手机号\",\"maxlength\":\"11\"},model:{value:(_vm.loginForm.mobile),callback:function ($$v) {_vm.$set(_vm.loginForm, \"mobile\", $$v)},expression:\"loginForm.mobile\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"userPwd\"}},[_c('el-input',{attrs:{\"placeholder\":\"密码\",\"type\":\"password\",\"maxlength\":\"20\"},model:{value:(_vm.loginForm.userPwd),callback:function ($$v) {_vm.$set(_vm.loginForm, \"userPwd\", $$v)},expression:\"loginForm.userPwd\"}})],1),_c('el-form-item',[_c('el-button',{staticClass:\"login_submit\",attrs:{\"loading\":_vm.btnLoading,\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleSubmit('loginForm')}}},[_vm._v(\"登录\")])],1),_c('p',[_vm._v(\"还没有账号？ \"),_c('a',{on:{\"click\":function($event){return _vm.$router.push({name: 'register'})}}},[_vm._v(\"立即注册\")])])],1)],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"brand__info\"},[_c('h1',[_vm._v(\"素焉商城\")]),_c('h2',{staticClass:\"intro\"},[_vm._v(\"基于Vue、Element构建开发，提供一套电商解决方案。\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"suyan__login\">\r\n        <div class=\"brand__info\">\r\n            <h1>素焉商城</h1>\r\n            <h2 class=\"intro\">基于Vue、Element构建开发，提供一套电商解决方案。</h2>\r\n        </div>\r\n        <div class=\"login__main\">\r\n            <h3 class=\"login__title\">商户登录</h3>\r\n            <el-form :model=\"loginForm\" label-width=\"0\" :rules=\"loginRule\" ref=\"loginForm\">\r\n                <el-form-item prop=\"mobile\">\r\n                    <el-input v-model=\"loginForm.mobile\" placeholder=\"手机号\" maxlength=\"11\" />\r\n                </el-form-item>\r\n                <el-form-item prop=\"userPwd\">\r\n                    <el-input v-model=\"loginForm.userPwd\" placeholder=\"密码\" type=\"password\" maxlength=\"20\" />\r\n                </el-form-item>\r\n                <el-form-item>\r\n                    <el-button class=\"login_submit\" :loading=\"btnLoading\" type=\"primary\" @click=\"handleSubmit('loginForm')\">登录</el-button>\r\n                </el-form-item>\r\n                <p>还没有账号？&nbsp;<a @click=\"$router.push({name: 'register'})\">立即注册</a></p>\r\n            </el-form>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Util from '../../libs/util';\r\nimport API from '../../libs/api.js';\r\nexport default {\r\n    data () {\r\n        return {\r\n            btnLoading: false,\r\n            loginForm: {\r\n                mobile: '13112341234',\r\n                userPwd: '123456789',\r\n            },\r\n            loginRule: {\r\n                mobile: [\r\n                    { required: true, message: '请填写手机号', trigger: 'blur' },\r\n                    { pattern: /^1\\d{10}$/, message: '手机号格式错误', trigger: 'blur' }\r\n                ],\r\n                userPwd: [\r\n                    { required: true, message: '请填写密码', trigger: 'blur' },\r\n                ],\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        handleSubmit(name) {\r\n            this.$refs[name].validate((valid) => {\r\n                if (valid) {\r\n                    this.btnLoading = true;\r\n                    API.userShopLogin(this.loginForm).then((res)=> {\r\n                        Util.setToken(res.data.sessionId);\r\n                        Util.setUserInfo(res.data);\r\n                        if(res.data.shopId) {\r\n                            this.$router.push({name: 'home'});\r\n                        } else {\r\n                            this.$router.push({name: 'shopList'});\r\n                        }\r\n                    }).finally((res) => {\r\n                        if(this.btnLoading)this.btnLoading = false;\r\n                    });\r\n                }\r\n            })\r\n        },\r\n    }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./login.vue?vue&type=template&id=aa44462e&\"\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}