{"version":3,"sources":["webpack:///./src/views/common/register.vue?5514","webpack:///src/views/common/register.vue","webpack:///./src/views/common/register.vue?2a82","webpack:///./src/views/common/register.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","_v","ref","attrs","formItem","registerRule","model","value","callback","$$v","$set","expression","directives","name","rawName","sendSmsFlag","staticStyle","smsBtnLoading","on","sendSmsVerCode","_s","countdown","btnLoading","$event","handleSubmit","$router","push","staticRenderFns","component"],"mappings":"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","file":"public/js/chunk-2d0b6ed6.a1b14278.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"suyan__login\"},[_vm._m(0),_c('div',{staticClass:\"login__main\"},[_c('h3',{staticClass:\"login__title\"},[_vm._v(\"免费注册\")]),_c('el-form',{ref:\"registerForm\",attrs:{\"model\":_vm.formItem,\"rules\":_vm.registerRule,\"label-width\":\"0\"}},[_c('el-form-item',{attrs:{\"prop\":\"mobile\"}},[_c('el-input',{attrs:{\"maxlength\":\"11\",\"show-word-limit\":\"\",\"placeholder\":\"手机号\"},model:{value:(_vm.formItem.mobile),callback:function ($$v) {_vm.$set(_vm.formItem, \"mobile\", $$v)},expression:\"formItem.mobile\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"smsVerCode\"}},[_c('el-row',[_c('el-col',{attrs:{\"span\":15}},[_c('el-input',{attrs:{\"maxlength\":\"6\",\"placeholder\":\"验证码\"},model:{value:(_vm.formItem.smsVerCode),callback:function ($$v) {_vm.$set(_vm.formItem, \"smsVerCode\", $$v)},expression:\"formItem.smsVerCode\"}})],1),_c('el-col',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.sendSmsFlag),expression:\"!sendSmsFlag\"}],attrs:{\"span\":5}},[_c('el-button',{staticStyle:{\"width\":\"115px\"},attrs:{\"type\":\"primary\",\"ghost\":\"\",\"loading\":_vm.smsBtnLoading},on:{\"click\":_vm.sendSmsVerCode}},[_vm._v(\"发送验证码\")])],1),_c('el-col',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.sendSmsFlag),expression:\"sendSmsFlag\"}],attrs:{\"span\":5}},[_c('el-button',{staticStyle:{\"width\":\"115px\"},attrs:{\"type\":\"primary\",\"disabled\":\"\"}},[_vm._v(_vm._s(_vm.countdown)+\"s\")])],1)],1)],1),_c('el-form-item',{attrs:{\"prop\":\"userPwd\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"maxlength\":\"20\",\"placeholder\":\"8-20位字符\"},model:{value:(_vm.formItem.userPwd),callback:function ($$v) {_vm.$set(_vm.formItem, \"userPwd\", $$v)},expression:\"formItem.userPwd\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"confirmPwd\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"maxlength\":\"20\",\"placeholder\":\"请再次输入密码\"},model:{value:(_vm.formItem.confirmPwd),callback:function ($$v) {_vm.$set(_vm.formItem, \"confirmPwd\", $$v)},expression:\"formItem.confirmPwd\"}})],1),_c('el-form-item',[_c('el-button',{staticClass:\"login_submit\",attrs:{\"type\":\"primary\",\"loading\":_vm.btnLoading},on:{\"click\":function($event){return _vm.handleSubmit('registerForm')}}},[_vm._v(\"注册\")])],1),_c('p',[_vm._v(\"已有账号？ \"),_c('a',{on:{\"click\":function($event){return _vm.$router.push({name: 'login'})}}},[_vm._v(\"立即登录\")])])],1)],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"brand__info\"},[_c('h1',[_vm._v(\"素焉商城\")]),_c('h2',{staticClass:\"intro\"},[_vm._v(\"基于Vue、Element构建开发，提供一套电商解决方案。\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"suyan__login\">\r\n        <div class=\"brand__info\">\r\n            <h1>素焉商城</h1>\r\n            <h2 class=\"intro\">基于Vue、Element构建开发，提供一套电商解决方案。</h2>\r\n        </div>\r\n        <div class=\"login__main\">\r\n            <h3 class=\"login__title\">免费注册</h3>\r\n            <el-form :model=\"formItem\" :rules=\"registerRule\" label-width=\"0\" ref=\"registerForm\">\r\n                <el-form-item prop=\"mobile\">\r\n                    <el-input v-model=\"formItem.mobile\" maxlength=\"11\" show-word-limit placeholder=\"手机号\" />\r\n                </el-form-item>\r\n                <el-form-item prop=\"smsVerCode\">\r\n                    <el-row>\r\n                        <el-col :span=\"15\">\r\n                            <el-input maxlength=\"6\" v-model=\"formItem.smsVerCode\" placeholder=\"验证码\" />\r\n                        </el-col>\r\n                        <el-col v-show=\"!sendSmsFlag\" :span=\"5\">\r\n                            <el-button type=\"primary\" ghost @click=\"sendSmsVerCode\" :loading=\"smsBtnLoading\" style=\"width: 115px;\">发送验证码</el-button>\r\n                        </el-col>\r\n                        <el-col v-show=\"sendSmsFlag\" :span=\"5\">\r\n                            <el-button style=\"width: 115px;\" type=\"primary\" disabled>{{countdown}}s</el-button>\r\n                        </el-col>\r\n                    </el-row>\r\n                </el-form-item>\r\n                <el-form-item prop=\"userPwd\">\r\n                    <el-input type=\"password\" maxlength=\"20\" v-model=\"formItem.userPwd\" placeholder=\"8-20位字符\" />\r\n                </el-form-item>\r\n                <el-form-item prop=\"confirmPwd\">\r\n                    <el-input type=\"password\" maxlength=\"20\" v-model=\"formItem.confirmPwd\" placeholder=\"请再次输入密码\" />\r\n                </el-form-item>\r\n                <el-form-item>\r\n                    <el-button type=\"primary\" class=\"login_submit\" :loading=\"btnLoading\" @click=\"handleSubmit('registerForm')\">注册</el-button>\r\n                </el-form-item>\r\n                <p>已有账号？&nbsp;<a @click=\"$router.push({name: 'login'})\">立即登录</a></p>\r\n            </el-form>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Util from '../../libs/util';\r\nimport API from '../../libs/api.js'\r\nexport default {\r\n    data () {\r\n        return {\r\n            sendSmsFlag: false,\r\n            smsBtnLoading: false,\r\n            btnLoading: false,\r\n            countdown: 60,\r\n            formItem: {\r\n                mobile: '13112341234',\r\n                smsVerCode: '000000',\r\n                userPwd: '123456789',\r\n                confirmPwd: '123456789',\r\n            },\r\n            registerRule: {\r\n                mobile: [\r\n                    { required: true, message: '请填写手机号', trigger: 'blur' },\r\n                    { pattern: /^1\\d{10}$/, message: '手机号格式错误', trigger: 'blur' }\r\n                ],\r\n                smsVerCode: [\r\n                    { required: true, message: '请填写6位验证码', trigger: 'blur' },\r\n                    { min:6, max: 6, message: '请填写6位验证码', trigger: 'blur' },\r\n                ],\r\n                userPwd: [\r\n                    { required: true, message: '请填写密码', trigger: 'blur' },\r\n                    { min:8, max: 20, message: '密码格式错误', trigger: 'blur' },\r\n                ],\r\n                confirmPwd: [\r\n                    { required: true, message: '请确认密码', trigger: 'blur' },\r\n                    {\r\n                        validator: (rule,value,callback) => {\r\n                            if(value!==this.formItem.userPwd) {\r\n                                callback(new Error('两次输入密码不一致'));\r\n                            } else {\r\n                                callback();\r\n                            }\r\n                        },\r\n                    trigger:'blur'\r\n                    }\r\n                ]\r\n            }\r\n        }\r\n    },\r\n    computed: {\r\n        sidebarFold: {\r\n            get () { return this.$store.state.sidebarFold },\r\n            set (val) { this.$store.commit('updateSidebarFold', val) }\r\n        },\r\n        nickName: {\r\n            get () { return this.$store.state.nickName },\r\n            set (val) { this.$store.commit('updateNickName', val) }\r\n        },\r\n    },\r\n    methods: {\r\n        handleSubmit(name) {\r\n            this.$refs[name].validate((valid) => {\r\n                if (valid) {\r\n                    this.btnLoading = true,\r\n                    API.userShopRegister(this.formItem).then((res)=> {\r\n                        Util.setToken(res.data.sessionId);\r\n                        Util.setUserInfo(res.data);\r\n                        this.$router.push({name: 'shopCreate'});\r\n                    }).finally((res) => {\r\n                        if(this.btnLoading)this.btnLoading = false;\r\n                    });\r\n                }\r\n            })\r\n        },\r\n        sendSmsVerCode() {\r\n            let _t = this;\r\n            if(!_t.sendSmsFlag) {\r\n                if(!/^1\\d{10}$/.test(_t.formItem.mobile)) {\r\n                    this.$Message.error('手机号格式错误');\r\n                    return;\r\n                }\r\n                _t.smsBtnLoading = true;\r\n                let channel = 'operationb';\r\n                let sign = Util.md5Encrypt(_t.formItem.mobile + channel + \"8e8618b39dfbb0c298425e42f479b3dd\");\r\n                let _data = {mobile: _t.formItem.mobile, channel: channel, sign: sign, source: \"storeRegister\"};\r\n                API.userSendSmsVerCode(_data).then((res)=> {\r\n                    Util.messageSuccess('短信发送成功');\r\n                    _t.sendSmsFlag = true;\r\n                    let _interval = setInterval(() => {\r\n                        _t.countdown = _t.countdown - 1;\r\n                        if(_t.countdown <= 0) {\r\n                            _t.sendSmsFlag = false;\r\n                            _t.countdown = 60;\r\n                            window.clearTimeout(_interval);\r\n                        }\r\n                    }, 1000);\r\n                }).finally((res) => {\r\n                    if(_t.smsBtnLoading)this.smsBtnLoading = false;\r\n                });\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./register.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./register.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./register.vue?vue&type=template&id=2dccf844&\"\nimport script from \"./register.vue?vue&type=script&lang=js&\"\nexport * from \"./register.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}