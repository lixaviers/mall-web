(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0af85d"],{"0f4e":function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("el-card",{attrs:{shadow:"always"}},[o("el-row",[o("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.$router.push({name:"goodsEdit"})}}},[t._v("发布商品")])],1),o("el-form",{staticClass:"mt20",attrs:{inline:!0,model:t.query}},[o("el-form-item",{attrs:{label:"商品名称"}},[o("el-input",{attrs:{placeholder:"商品名称"},model:{value:t.query.goodsNameLike,callback:function(e){t.$set(t.query,"goodsNameLike",e)},expression:"query.goodsNameLike"}})],1),o("el-form-item",{attrs:{label:"类型"}},[o("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"全部"},model:{value:t.query.goodsStatus,callback:function(e){t.$set(t.query,"goodsStatus",e)},expression:"query.goodsStatus"}},[o("el-option",{attrs:{value:"",label:"全部"}}),o("el-option",{attrs:{value:1,label:"上架"}}),o("el-option",{attrs:{value:2,label:"下架"}})],1)],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:t.getGoodsList}},[t._v("查询")])],1)],1),o("el-table",{staticStyle:{width:"100%"},attrs:{data:t.goodsList}},[o("el-table-column",{attrs:{prop:"goodsName",label:"商品名称"}}),o("el-table-column",{attrs:{prop:"inventory",label:"库存",sortable:"",width:"100"}}),o("el-table-column",{attrs:{prop:"viewCount",label:"浏览量",sortable:"",width:"100"}}),o("el-table-column",{attrs:{prop:"sales",label:"销量",sortable:"",width:"100"}}),o("el-table-column",{attrs:{prop:"goodsStatus",label:"状态",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.goodsStatus?o("el-tag",{attrs:{type:"success"}},[t._v("已上架")]):2==e.row.goodsStatus?o("el-tag",{attrs:{type:"warning"}},[t._v("已下架")]):t._e()]}}])}),o("el-table-column",{attrs:{prop:"createTime",label:"创建时间",sortable:"",width:"150"}}),o("el-table-column",{attrs:{fixed:"right",label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{type:"primary"},on:{click:function(o){return t.handleEdit(e.row)}}},[t._v("编辑")]),1==e.row.goodsStatus?o("el-popconfirm",{staticClass:"ml10",attrs:{title:"确定下架商品吗？"},on:{onConfirm:function(o){return t.handleShelves(e.row.id,2)}}},[o("el-button",{attrs:{slot:"reference"},slot:"reference"},[t._v("下架")])],1):t._e(),2==e.row.goodsStatus?o("el-popconfirm",{staticClass:"ml10",attrs:{title:"确定上架商品吗？"},on:{onConfirm:function(o){return t.handleShelves(e.row.id,1)}}},[o("el-button",{attrs:{slot:"reference"},slot:"reference"},[t._v("上架")])],1):t._e()]}}])})],1),o("el-pagination",{staticClass:"mt20",attrs:{"current-page":t.query.pageNo,"page-sizes":[10,20,50,100],"page-size":t.query.pageSize,layout:"total, sizes, prev, pager, next",total:t.query.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){return t.$set(t.query,"pageNo",e)},"update:current-page":function(e){return t.$set(t.query,"pageNo",e)}}})],1)],1)},r=[],s=(o("c276"),o("09bb")),l={data:function(){return{goodsList:[],query:{pageNo:1,pageSize:20,total:0,goodsNameLike:"",goodsStatus:"",orderBy:"id DESC"}}},created:function(){this.getGoodsList()},methods:{handleEdit:function(t){this.$router.push({name:"goodsEdit",query:{id:t.id}})},handleShelves:function(t,e){var o=this;s["a"].goodsShelves(t,e).then((function(t){o.getGoodsList()}))},handleSizeChange:function(t){this.query.pageSize=t,this.getGoodsList()},handleCurrentChange:function(t){this.query.pageNo=t,this.getGoodsList()},getGoodsList:function(){var t=this;s["a"].goodsQuery(this.query).then((function(e){console.log(e.data),t.query.pageNo=e.data.pageNo,t.query.pageSize=e.data.pageSize,t.query.total=e.data.totalRecords,t.goodsList=e.data.records}))}}},n=l,i=o("9ca4"),u=Object(i["a"])(n,a,r,!1,null,null,null);e["default"]=u.exports}}]);
//# sourceMappingURL=chunk-2d0af85d.f68c2725.js.map