(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b6ed6"],{"1ef2":function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"suyan__login"},[e._m(0),r("div",{staticClass:"login__main"},[r("h3",{staticClass:"login__title"},[e._v("免费注册")]),r("el-form",{ref:"registerForm",attrs:{model:e.formItem,rules:e.registerRule,"label-width":"0"}},[r("el-form-item",{attrs:{prop:"mobile"}},[r("el-input",{attrs:{maxlength:"11","show-word-limit":"",placeholder:"手机号"},model:{value:e.formItem.mobile,callback:function(t){e.$set(e.formItem,"mobile",t)},expression:"formItem.mobile"}})],1),r("el-form-item",{attrs:{prop:"smsVerCode"}},[r("el-row",[r("el-col",{attrs:{span:15}},[r("el-input",{attrs:{maxlength:"6",placeholder:"验证码"},model:{value:e.formItem.smsVerCode,callback:function(t){e.$set(e.formItem,"smsVerCode",t)},expression:"formItem.smsVerCode"}})],1),r("el-col",{directives:[{name:"show",rawName:"v-show",value:!e.sendSmsFlag,expression:"!sendSmsFlag"}],attrs:{span:5}},[r("el-button",{staticStyle:{width:"115px"},attrs:{type:"primary",ghost:"",loading:e.smsBtnLoading},on:{click:e.sendSmsVerCode}},[e._v("发送验证码")])],1),r("el-col",{directives:[{name:"show",rawName:"v-show",value:e.sendSmsFlag,expression:"sendSmsFlag"}],attrs:{span:5}},[r("el-button",{staticStyle:{width:"115px"},attrs:{type:"primary",disabled:""}},[e._v(e._s(e.countdown)+"s")])],1)],1)],1),r("el-form-item",{attrs:{prop:"userPwd"}},[r("el-input",{attrs:{type:"password",maxlength:"20",placeholder:"8-20位字符"},model:{value:e.formItem.userPwd,callback:function(t){e.$set(e.formItem,"userPwd",t)},expression:"formItem.userPwd"}})],1),r("el-form-item",{attrs:{prop:"confirmPwd"}},[r("el-input",{attrs:{type:"password",maxlength:"20",placeholder:"请再次输入密码"},model:{value:e.formItem.confirmPwd,callback:function(t){e.$set(e.formItem,"confirmPwd",t)},expression:"formItem.confirmPwd"}})],1),r("el-form-item",[r("el-button",{staticClass:"login_submit",attrs:{type:"primary",loading:e.btnLoading},on:{click:function(t){return e.handleSubmit("registerForm")}}},[e._v("注册")])],1),r("p",[e._v("已有账号？ "),r("a",{on:{click:function(t){return e.$router.push({name:"login"})}}},[e._v("立即登录")])])],1)],1)])},o=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"brand__info"},[r("h1",[e._v("素焉商城")]),r("h2",{staticClass:"intro"},[e._v("基于Vue、Element构建开发，提供一套电商解决方案。")])])}],n=(r("e18c"),r("c276")),i=r("09bb"),a={data:function(){var e=this;return{sendSmsFlag:!1,smsBtnLoading:!1,btnLoading:!1,countdown:60,formItem:{mobile:"13112341234",smsVerCode:"000000",userPwd:"123456789",confirmPwd:"123456789"},registerRule:{mobile:[{required:!0,message:"请填写手机号",trigger:"blur"},{pattern:/^1\d{10}$/,message:"手机号格式错误",trigger:"blur"}],smsVerCode:[{required:!0,message:"请填写6位验证码",trigger:"blur"},{min:6,max:6,message:"请填写6位验证码",trigger:"blur"}],userPwd:[{required:!0,message:"请填写密码",trigger:"blur"},{min:8,max:20,message:"密码格式错误",trigger:"blur"}],confirmPwd:[{required:!0,message:"请确认密码",trigger:"blur"},{validator:function(t,r,s){r!==e.formItem.userPwd?s(new Error("两次输入密码不一致")):s()},trigger:"blur"}]}}},computed:{sidebarFold:{get:function(){return this.$store.state.sidebarFold},set:function(e){this.$store.commit("updateSidebarFold",e)}},nickName:{get:function(){return this.$store.state.nickName},set:function(e){this.$store.commit("updateNickName",e)}}},methods:{handleSubmit:function(e){var t=this;this.$refs[e].validate((function(e){e&&(t.btnLoading=!0,i["a"].userShopRegister(t.formItem).then((function(e){n["a"].setToken(e.data.sessionId),n["a"].setUserInfo(e.data),t.$router.push({name:"shopCreate"})})).finally((function(e){t.btnLoading&&(t.btnLoading=!1)})))}))},sendSmsVerCode:function(){var e=this,t=this;if(!t.sendSmsFlag){if(!/^1\d{10}$/.test(t.formItem.mobile))return void this.$Message.error("手机号格式错误");t.smsBtnLoading=!0;var r="operationb",s=n["a"].md5Encrypt(t.formItem.mobile+r+"8e8618b39dfbb0c298425e42f479b3dd"),o={mobile:t.formItem.mobile,channel:r,sign:s,source:"storeRegister"};i["a"].userSendSmsVerCode(o).then((function(e){n["a"].messageSuccess("短信发送成功"),t.sendSmsFlag=!0;var r=setInterval((function(){t.countdown=t.countdown-1,t.countdown<=0&&(t.sendSmsFlag=!1,t.countdown=60,window.clearTimeout(r))}),1e3)})).finally((function(r){t.smsBtnLoading&&(e.smsBtnLoading=!1)}))}}}},m=a,l=r("9ca4"),d=Object(l["a"])(m,s,o,!1,null,null,null);t["default"]=d.exports}}]);
//# sourceMappingURL=chunk-2d0b6ed6.a1b14278.js.map