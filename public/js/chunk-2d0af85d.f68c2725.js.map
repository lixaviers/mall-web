{"version":3,"sources":["webpack:///./src/views/goods/list.vue?6ae1","webpack:///src/views/goods/list.vue","webpack:///./src/views/goods/list.vue?28ab","webpack:///./src/views/goods/list.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","on","$event","$router","push","name","_v","staticClass","query","model","value","callback","$$v","$set","expression","staticStyle","getGoodsList","goodsList","scopedSlots","_u","key","fn","scope","row","goodsStatus","_e","handleEdit","handleShelves","id","slot","pageNo","pageSize","total","handleSizeChange","handleCurrentChange","staticRenderFns","component"],"mappings":"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","file":"public/js/chunk-2d0af85d.f68c2725.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-card',{attrs:{\"shadow\":\"always\"}},[_c('el-row',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.$router.push({name: 'goodsEdit'});}}},[_vm._v(\"发布商品\")])],1),_c('el-form',{staticClass:\"mt20\",attrs:{\"inline\":true,\"model\":_vm.query}},[_c('el-form-item',{attrs:{\"label\":\"商品名称\"}},[_c('el-input',{attrs:{\"placeholder\":\"商品名称\"},model:{value:(_vm.query.goodsNameLike),callback:function ($$v) {_vm.$set(_vm.query, \"goodsNameLike\", $$v)},expression:\"query.goodsNameLike\"}})],1),_c('el-form-item',{attrs:{\"label\":\"类型\"}},[_c('el-select',{staticStyle:{\"width\":\"100px\"},attrs:{\"placeholder\":\"全部\"},model:{value:(_vm.query.goodsStatus),callback:function ($$v) {_vm.$set(_vm.query, \"goodsStatus\", $$v)},expression:\"query.goodsStatus\"}},[_c('el-option',{attrs:{\"value\":\"\",\"label\":\"全部\"}}),_c('el-option',{attrs:{\"value\":1,\"label\":\"上架\"}}),_c('el-option',{attrs:{\"value\":2,\"label\":\"下架\"}})],1)],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.getGoodsList}},[_vm._v(\"查询\")])],1)],1),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.goodsList}},[_c('el-table-column',{attrs:{\"prop\":\"goodsName\",\"label\":\"商品名称\"}}),_c('el-table-column',{attrs:{\"prop\":\"inventory\",\"label\":\"库存\",\"sortable\":\"\",\"width\":\"100\"}}),_c('el-table-column',{attrs:{\"prop\":\"viewCount\",\"label\":\"浏览量\",\"sortable\":\"\",\"width\":\"100\"}}),_c('el-table-column',{attrs:{\"prop\":\"sales\",\"label\":\"销量\",\"sortable\":\"\",\"width\":\"100\"}}),_c('el-table-column',{attrs:{\"prop\":\"goodsStatus\",\"label\":\"状态\",\"width\":\"120\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.goodsStatus == 1)?_c('el-tag',{attrs:{\"type\":\"success\"}},[_vm._v(\"已上架\")]):(scope.row.goodsStatus == 2)?_c('el-tag',{attrs:{\"type\":\"warning\"}},[_vm._v(\"已下架\")]):_vm._e()]}}])}),_c('el-table-column',{attrs:{\"prop\":\"createTime\",\"label\":\"创建时间\",\"sortable\":\"\",\"width\":\"150\"}}),_c('el-table-column',{attrs:{\"fixed\":\"right\",\"label\":\"操作\",\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleEdit(scope.row)}}},[_vm._v(\"编辑\")]),(scope.row.goodsStatus == 1)?_c('el-popconfirm',{staticClass:\"ml10\",attrs:{\"title\":\"确定下架商品吗？\"},on:{\"onConfirm\":function($event){return _vm.handleShelves(scope.row.id, 2)}}},[_c('el-button',{attrs:{\"slot\":\"reference\"},slot:\"reference\"},[_vm._v(\"下架\")])],1):_vm._e(),(scope.row.goodsStatus == 2)?_c('el-popconfirm',{staticClass:\"ml10\",attrs:{\"title\":\"确定上架商品吗？\"},on:{\"onConfirm\":function($event){return _vm.handleShelves(scope.row.id, 1)}}},[_c('el-button',{attrs:{\"slot\":\"reference\"},slot:\"reference\"},[_vm._v(\"上架\")])],1):_vm._e()]}}])})],1),_c('el-pagination',{staticClass:\"mt20\",attrs:{\"current-page\":_vm.query.pageNo,\"page-sizes\":[10, 20, 50, 100],\"page-size\":_vm.query.pageSize,\"layout\":\"total, sizes, prev, pager, next\",\"total\":_vm.query.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange,\"update:currentPage\":function($event){return _vm.$set(_vm.query, \"pageNo\", $event)},\"update:current-page\":function($event){return _vm.$set(_vm.query, \"pageNo\", $event)}}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <el-card shadow=\"always\">\r\n            <el-row>\r\n                <el-button type=\"primary\" @click=\"$router.push({name: 'goodsEdit'});\">发布商品</el-button>\r\n            </el-row>\r\n            <el-form :inline=\"true\" :model=\"query\" class=\"mt20\">\r\n                <el-form-item label=\"商品名称\">\r\n                    <el-input v-model=\"query.goodsNameLike\" placeholder=\"商品名称\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"类型\">\r\n                    <el-select v-model=\"query.goodsStatus\" placeholder=\"全部\" style=\"width: 100px;\">\r\n                        <el-option value='' label=\"全部\"></el-option>\r\n                        <el-option :value='1' label=\"上架\"></el-option>\r\n                        <el-option :value='2' label=\"下架\"></el-option>\r\n                    </el-select>\r\n                </el-form-item>\r\n                <el-form-item>\r\n                    <el-button type=\"primary\" @click=\"getGoodsList\">查询</el-button>\r\n                </el-form-item>\r\n            </el-form>\r\n            <el-table\r\n                :data=\"goodsList\"\r\n                style=\"width: 100%\"\r\n            >\r\n                <el-table-column prop=\"goodsName\" label=\"商品名称\"></el-table-column>\r\n                <el-table-column prop=\"inventory\" label=\"库存\" sortable width=\"100\"></el-table-column>\r\n                <el-table-column prop=\"viewCount\" label=\"浏览量\" sortable width=\"100\"></el-table-column>\r\n                <el-table-column prop=\"sales\" label=\"销量\" sortable width=\"100\"></el-table-column>\r\n                <el-table-column prop=\"goodsStatus\" label=\"状态\" width=\"120\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-tag v-if=\"scope.row.goodsStatus == 1\" type=\"success\">已上架</el-tag>\r\n                        <el-tag v-else-if=\"scope.row.goodsStatus == 2\" type=\"warning\">已下架</el-tag>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column prop=\"createTime\" label=\"创建时间\" sortable width=\"150\"></el-table-column>\r\n                <el-table-column fixed=\"right\" label=\"操作\" width=\"150\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-button @click=\"handleEdit(scope.row)\" type=\"primary\">编辑</el-button>\r\n                        <el-popconfirm v-if=\"scope.row.goodsStatus == 1\" title=\"确定下架商品吗？\" @onConfirm=\"handleShelves(scope.row.id, 2)\" class=\"ml10\">\r\n                            <el-button slot=\"reference\">下架</el-button>\r\n                        </el-popconfirm>\r\n                        <el-popconfirm v-if=\"scope.row.goodsStatus == 2\" title=\"确定上架商品吗？\" @onConfirm=\"handleShelves(scope.row.id, 1)\" class=\"ml10\">\r\n                            <el-button slot=\"reference\">上架</el-button>\r\n                        </el-popconfirm>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n            <el-pagination\r\n            class=\"mt20\"\r\n            @size-change=\"handleSizeChange\"\r\n            @current-change=\"handleCurrentChange\"\r\n            :current-page.sync=\"query.pageNo\"\r\n            :page-sizes=\"[10, 20, 50, 100]\"\r\n            :page-size=\"query.pageSize\"\r\n            layout=\"total, sizes, prev, pager, next\"\r\n            :total=\"query.total\">\r\n            </el-pagination>\r\n        </el-card>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Util from '../../libs/util';\r\nimport API from '../../libs/api.js';\r\nexport default {\r\n    data () {\r\n        return {\r\n            goodsList: [],\r\n            query: {\r\n                pageNo: 1,\r\n                pageSize: 20,\r\n                total: 0,\r\n                goodsNameLike: '',\r\n                goodsStatus: '',\r\n                orderBy: 'id DESC',\r\n            }\r\n        }\r\n    },\r\n    created() {\r\n        this.getGoodsList();\r\n    },\r\n    methods: {\r\n        // 编辑商品\r\n        handleEdit(row) {\r\n            this.$router.push({name:'goodsEdit',query:{id: row.id}});\r\n        },\r\n        handleShelves(id, opt) {\r\n            API.goodsShelves(id, opt).then((res)=> {\r\n                this.getGoodsList();\r\n            });\r\n        },\r\n        // 变换每页条数\r\n        handleSizeChange(val) {\r\n            this.query.pageSize = val;\r\n            this.getGoodsList();\r\n        },\r\n        // 变换页数\r\n        handleCurrentChange(val) {\r\n            this.query.pageNo = val;\r\n            this.getGoodsList();\r\n        },\r\n        // 获取商品列表\r\n        getGoodsList() {\r\n            API.goodsQuery(this.query).then((res)=> {\r\n                console.log(res.data)\r\n                this.query.pageNo = res.data.pageNo;\r\n                this.query.pageSize = res.data.pageSize;\r\n                this.query.total = res.data.totalRecords;\r\n                //if(res.data.totalRecords > 0) {\r\n                    //res.data.records.forEach(item => {\r\n                        //item.createTime = Util.dateFormatter(item.createTime);\r\n                    //});\r\n                //}\r\n                this.goodsList = res.data.records;\r\n            });\r\n        },\r\n    }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./list.vue?vue&type=template&id=e38e7c3c&\"\nimport script from \"./list.vue?vue&type=script&lang=js&\"\nexport * from \"./list.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}